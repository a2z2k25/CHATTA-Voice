# PTT User Experience Design
Date: November 9, 2025
Sprint: 1.5

## Visual Feedback States

### 1. Waiting for Key Press
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üé§ Push-to-Talk Ready                      ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ Press and hold [‚Üì + ‚Üí] to speak            ‚îÇ
‚îÇ Press [ESC] to cancel                      ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ ‚ö™ Waiting for input...                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2. Keys Detected (Preparing)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üü° Keys Detected                           ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ Hold to continue recording...              ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ ‚è±Ô∏è Initializing...                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 3. Actively Recording
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üî¥ Recording                               ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ Release [‚Üì + ‚Üí] to stop                    ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 00:03 / 02:00           ‚îÇ
‚îÇ ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà [Audio Level]                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 4. Processing
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üü¢ Processing                              ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ Transcribing your message...               ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ ‚†ã‚†ô‚†π‚†∏‚†º‚†¥‚†¶‚†ß‚†á‚†è [spinner animation]          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## CLI Output Formatting

### Minimalist Mode (Default)
```python
# Clean, single-line updates
print("\rüé§ Press and hold [‚Üì+‚Üí] to speak...", end="", flush=True)
print("\rüî¥ Recording... (00:03)            ", end="", flush=True)
print("\rüü¢ Processing...                   ", end="", flush=True)
print("\r‚úÖ Ready                           ", end="", flush=True)
```

### Verbose Mode (Debug/Learning)
```python
# Detailed multi-line output
print("""
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë Push-to-Talk Session Started                ‚ïë
‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïë
‚ïë Mode:      Hold-to-Record                   ‚ïë
‚ïë Keys:      ‚Üì + ‚Üí                           ‚ïë
‚ïë Transport: Local Microphone                 ‚ïë
‚ïë Timeout:   120 seconds                      ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
""")
```

## Audio Level Visualization

```python
def render_audio_level(level: float, width: int = 40) -> str:
    """Render audio level as ASCII bar"""
    filled = int(level * width)
    bar = "‚ñà" * filled + "‚ñë" * (width - filled)

    # Color coding based on level
    if level < 0.2:
        color = "\033[90m"  # Gray (too quiet)
    elif level < 0.8:
        color = "\033[92m"  # Green (good)
    else:
        color = "\033[91m"  # Red (too loud)

    return f"{color}{bar}\033[0m"

# Example output:
# ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  [Good level]
# ‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  [Too quiet]
# ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  [Too loud]
```

## Error Messages

### Permission Denied
```
‚ö†Ô∏è Push-to-Talk Unavailable

Keyboard access permission required.

macOS: System Preferences ‚Üí Security & Privacy ‚Üí
       Privacy ‚Üí Accessibility ‚Üí Add this terminal

Falling back to standard voice mode.
Press ENTER to continue...
```

### Key Combination Conflict
```
‚ö†Ô∏è Key Combination Conflict

The keys [Ctrl+C] are reserved by the system.

Please choose different keys or use the default [‚Üì+‚Üí].

Current alternatives:
- [Ctrl+Space]
- [Alt+Shift]
- [Cmd+Option] (macOS)
```

### Recording Failed
```
‚ùå Recording Failed

Unable to access microphone.

Possible causes:
1. Microphone in use by another app
2. Audio device disconnected
3. Insufficient permissions

Troubleshooting:
- Check audio device connections
- Close other recording apps
- Restart the voice service

[R]etry | [S]tandard mode | [C]ancel
```

## Success Feedback

### Recording Complete
```
‚úÖ Recording Complete
Duration: 3.5 seconds
Quality: Excellent
Processing...
```

### Transcription Result
```
üìù Transcription:
"This is my transcribed message with push to talk"

Confidence: 98%
PTT Duration: 3.5s
Processing Time: 0.8s
```

## Keyboard Shortcut Display

### Platform-Adaptive Display
```python
def format_key_combo(keys: list, platform: str) -> str:
    """Format key combination for platform"""

    symbols = {
        "Darwin": {
            "cmd": "‚åò",
            "alt": "‚å•",
            "shift": "‚áß",
            "ctrl": "‚åÉ",
            "down": "‚Üì",
            "right": "‚Üí"
        },
        "Windows": {
            "cmd": "Win",
            "alt": "Alt",
            "shift": "Shift",
            "ctrl": "Ctrl",
            "down": "‚Üì",
            "right": "‚Üí"
        },
        "Linux": {
            "cmd": "Super",
            "alt": "Alt",
            "shift": "Shift",
            "ctrl": "Ctrl",
            "down": "‚Üì",
            "right": "‚Üí"
        }
    }

    platform_symbols = symbols.get(platform, symbols["Linux"])
    formatted = " + ".join([platform_symbols.get(k, k) for k in keys])

    return f"[{formatted}]"

# Examples:
# macOS:   [‚åò + ‚áß]
# Windows: [Ctrl + Space]
# Linux:   [Alt + Shift]
```

## Accessibility Features

### Screen Reader Support
```python
# Announce state changes for screen readers
def announce_for_screen_reader(message: str):
    """Output screen reader friendly messages"""

    # Use aria-live regions in web UI
    # For CLI, output clear text
    print(f"\n[Screen Reader]: {message}\n")

# Usage:
announce_for_screen_reader("Recording started. Release keys to stop.")
announce_for_screen_reader("Recording stopped. Processing audio.")
```

### High Contrast Mode
```python
# High contrast color scheme
HIGH_CONTRAST = {
    "recording": "‚¨§ RECORDING",     # Solid circle
    "waiting": "‚óã WAITING",         # Empty circle
    "processing": "‚óà PROCESSING",   # Diamond
    "error": "‚úñ ERROR",            # X mark
    "success": "‚úì SUCCESS"         # Check mark
}
```

### Keyboard Navigation
```
Tab Navigation Order:
1. Start/Stop PTT
2. Cancel Recording
3. Switch Mode (Hold/Toggle)
4. Configure Keys
5. Help
```

## Progressive Disclosure

### First Time User
```
üéâ Welcome to Push-to-Talk!

This is your first time using PTT. Here's how it works:

1. Press and hold [‚Üì+‚Üí] keys together
2. Speak your message
3. Release the keys when done

Would you like a tutorial? [Y/n]
```

### Experienced User
```
üé§ PTT: [‚Üì+‚Üí] | ESC to cancel
```

## Status Bar Integration

```python
def render_status_bar(state: dict) -> str:
    """Render PTT status in terminal status bar"""

    parts = []

    # PTT indicator
    if state["ptt_enabled"]:
        parts.append("üé§ PTT")

    # Key combo
    parts.append(f"[{state['key_combo']}]")

    # Recording status
    if state["is_recording"]:
        parts.append(f"üî¥ {state['duration']}s")

    # Audio level
    if state["audio_level"]:
        parts.append(render_audio_level_mini(state["audio_level"]))

    return " ‚îÇ ".join(parts)

# Output: üé§ PTT ‚îÇ [‚Üì+‚Üí] ‚îÇ üî¥ 3.2s ‚îÇ ‚ñì‚ñì‚ñì‚ñë
```

## Animation and Timing

### Recording Pulse Animation
```python
import itertools

def pulse_animation():
    """Generate pulsing recording indicator"""
    frames = ["üî¥", "üü•", "üî¥", "‚≠ï"]
    for frame in itertools.cycle(frames):
        yield frame

# Usage:
animator = pulse_animation()
while recording:
    print(f"\r{next(animator)} Recording...", end="", flush=True)
    time.sleep(0.5)
```

### Smooth Progress Bar
```python
def smooth_progress(current: float, total: float) -> str:
    """Render smooth progress bar with sub-character precision"""

    width = 40
    progress = current / total
    filled = int(progress * width)
    partial = int((progress * width - filled) * 8)

    # Unicode block characters for smooth fill
    blocks = " ‚ñè‚ñé‚ñç‚ñå‚ñã‚ñä‚ñâ‚ñà"
    bar = "‚ñà" * filled

    if filled < width:
        bar += blocks[partial]
        bar += "‚ñë" * (width - filled - 1)

    return f"[{bar}] {current:.1f}/{total:.1f}s"
```

## Error Recovery UX

### Graceful Degradation
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚ö†Ô∏è PTT Temporarily Unavailable             ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ Using standard voice mode.                 ‚îÇ
‚îÇ Speak after the beep...                    ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ [Press P to retry PTT setup]               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Inline Help
```
Need help? Common PTT commands:
‚Ä¢ Change keys: /ptt config keys
‚Ä¢ Toggle mode: /ptt config mode toggle
‚Ä¢ Disable PTT: /ptt disable
‚Ä¢ Show stats: /ptt stats
```

## Platform-Specific Adaptations

### macOS
- Use native symbols (‚åò‚å•‚áß)
- Reference System Preferences
- Terminal.app specific instructions

### Windows
- Use Windows terminology (Win key)
- Reference Windows Settings
- PowerShell/CMD specific formatting

### Linux
- Detect terminal emulator
- X11/Wayland specific messages
- Distribution-aware instructions